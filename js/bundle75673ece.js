var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
var GameConstroll_1 = require("./script/GameConstroll");
var BeanScript_1 = require("./script/BeanScript");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
        reg("script/GameConstroll.ts", GameConstroll_1.default);
        reg("script/BeanScript.ts", BeanScript_1.default);
    };
    GameConfig.width = 1136;
    GameConfig.height = 640;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "gameMain.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = true;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/BeanScript":6,"./script/GameConstroll":8,"./script/GameUI":10}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// 四叉树的实现
var Quadtree = /** @class */ (function () {
    function Quadtree(level, bounds) {
        this.MAX_OBJECTS = 10;
        this.MAX_LEVELS = 5;
        this.nodes = [];
        this.level = level;
        this.bounds = bounds;
        this.objects = [];
        this.nodes = [];
    }
    // clear, split, getIndex, insert和 retrieve
    Quadtree.prototype.clear = function () {
        this.objects = [];
        for (var i = 0; i < this.nodes.length; i++) {
            this.nodes[i].clear();
            this.nodes[i] = null;
        }
    };
    //将当前节点分割成4个节点。。
    Quadtree.prototype.split = function () {
        var w = this.bounds.width / 2, h = this.bounds.height / 2, x = this.bounds.x, y = this.bounds.y;
        this.nodes[0] = new Quadtree(this.level + 1, new Laya.Rectangle(x + w, y, w, h));
        this.nodes[1] = new Quadtree(this.level + 1, new Laya.Rectangle(x, y, w, h));
        this.nodes[2] = new Quadtree(this.level + 1, new Laya.Rectangle(x, y + h, w, h));
        this.nodes[3] = new Quadtree(this.level + 1, new Laya.Rectangle(x + w, y + h, w, h));
    };
    //得到这个节点的索引
    Quadtree.prototype.getIndex = function (pRect) {
        var index = -1;
        // 中线
        var v = this.bounds.x + this.bounds.width / 2, h = this.bounds.y + this.bounds.height / 2;
        var t = pRect.y < h && pRect.y + pRect.height < h, // 完全在上面
        b = pRect.y > h, // 完全在下面
        r = pRect.x > v, //右边
        l = pRect.x + pRect.width < v; //左边
        if (r) {
            if (t)
                index = 0;
            if (b)
                index = 3;
        }
        else if (l) {
            if (t)
                index = 1;
            if (b)
                index = 2;
        }
        return index;
    };
    // 插入
    Quadtree.prototype.insert = function (obj) {
        if (obj == undefined)
            return;
        if (obj instanceof Array) {
            for (var i = 0; i < obj.length; i++) {
                this.insert(obj[i]);
            }
            return;
        }
        if (this.nodes.length) {
            var index = this.getIndex(obj);
            if (index != -1) {
                this.nodes[index].insert(obj);
                return;
            }
        }
        this.objects.push(obj);
        if (this.objects.length > this.MAX_OBJECTS && this.level < this.MAX_LEVELS) {
            if (this.nodes[0] == null) {
                this.split();
            }
            var i = 0;
            while (i < this.objects.length) {
                var ind = this.getIndex(this.objects[i]);
                if (ind != -1) {
                    this.nodes[ind].insert((this.objects.splice(i, 1))[0]);
                }
                else {
                    i++;
                }
            }
        }
    };
    //所有可能和指定物品碰撞的物体
    Quadtree.prototype.retrieve = function (returnedObjects, obj) {
        if (typeof obj === undefined) {
            console.log("underfined object");
            return;
        }
        var index = this.getIndex(obj);
        if (index != -1 && this.nodes.length) {
            this.nodes[index].retrieve(returnedObjects, obj);
        }
        for (var i = 0; i < this.objects.length; i++) {
            returnedObjects.push(this.objects[i]);
        }
        return returnedObjects;
    };
    return Quadtree;
}());
exports.default = Quadtree;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/*
 * @Description:枚举
 * @Author: jwei
 * @Date: 2018-11-22 16:25:13
 * @LastEditTime: 2018-11-22 16:27:06
 * @LastEditors: jwei
 */
var ToolCMD = /** @class */ (function () {
    function ToolCMD() {
    }
    ToolCMD.ROCKER_MOVE = "rocker_move";
    return ToolCMD;
}());
exports.default = ToolCMD;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 工具函数
 */
var ToolUtils = /** @class */ (function () {
    function ToolUtils() {
    }
    /**
     * 得到两点的距离。。
     * @param x1
     * @param y1
     * @param x2
     * @param y2
     */
    ToolUtils.getDistance = function (x1, y1, x2, y2) {
        return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));
    };
    return ToolUtils;
}());
exports.default = ToolUtils;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 食物的脚本
 */
var BeanScript = /** @class */ (function (_super) {
    __extends(BeanScript, _super);
    function BeanScript() {
        return _super.call(this) || this;
    }
    BeanScript.prototype.onEnable = function () {
        //    var sp:Laya.Sprite=this.owner as Laya.Sprite;
    };
    BeanScript.prototype.onTriggerEnter = function () {
        //碰到就消失
        this.owner.removeSelf();
    };
    BeanScript.prototype.onDestroy = function () {
        Laya.Pool.recover("bean", this.owner);
    };
    return BeanScript;
}(Laya.Script));
exports.default = BeanScript;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("../GameConfig");
/*
 * @Description: 2d相机跟随
 * @Author: jwei
 * @Date: 2018-11-22 12:03:19
 * @LastEditTime: 2018-11-23 10:58:41
 * @LastEditors: Please set LastEditors
 */
var Camera2D = /** @class */ (function () {
    function Camera2D() {
        this._mapW = 3000;
        this._mapH = 1500;
    }
    Object.defineProperty(Camera2D, "instance", {
        get: function () {
            this._instance = this._instance || new Camera2D;
            return this._instance;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Camera2D.prototype, "cameraView", {
        get: function () {
            return this._cameraView;
        },
        enumerable: true,
        configurable: true
    });
    Camera2D.prototype.start = function (scene) {
        this._scene = scene;
        this._cameraView = new Laya.Rectangle(0, 0, GameConfig_1.default.width, GameConfig_1.default.height);
        this._scene.scrollRect = this._cameraView;
    };
    /**
     * @msg: 绑定主视角
     * @param {type}
     * @return:
     */
    Camera2D.prototype.focus = function (target) {
        this._focusTarget = target;
        this._cameraView.x = this._focusTarget.x - (GameConfig_1.default.width >> 1);
        this._cameraView.y = this._focusTarget.y - (GameConfig_1.default.height >> 1);
    };
    /**
     * @msg:实时更新
     * @param {type}
     * @return:
     */
    Camera2D.prototype.update = function () {
        if (this._focusTarget) {
            if (this._focusTarget.x > 0 && (this._focusTarget.x - GameConfig_1.default.width / 2) < this._mapW) {
                this._cameraView.x = this._focusTarget.x - (GameConfig_1.default.width >> 1);
            }
            if (this._focusTarget.y > (GameConfig_1.default.height >> 1) || (this._focusTarget.y + GameConfig_1.default.height / 2) < this._mapH) {
                this._cameraView.y = this._focusTarget.y - (GameConfig_1.default.height >> 1);
            }
        }
    };
    return Camera2D;
}());
exports.default = Camera2D;
},{"../GameConfig":1}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameUI_1 = require("./GameUI");
var ToolUtils_1 = require("../config/ToolUtils");
var Snake_1 = require("./Snake");
var Quadtree_1 = require("../config/Quadtree");
var GameData_1 = require("./GameData");
/**
 * 游戏控制脚本
 */
var GameConstroll = /** @class */ (function (_super) {
    __extends(GameConstroll, _super);
    function GameConstroll() {
        var _this = _super.call(this) || this;
        _this._beanQuadTree = null; //用四叉树保存道具，优化碰撞检测
        _this._snakeAi = [];
        return _this;
    }
    GameConstroll.prototype.onEnable = function () {
        this._gameBox = this.owner["gameBox"];
        this._beanQuadTree = new Quadtree_1.default(3, new Laya.Rectangle(0, 0, 3000, 1500));
        this._createBean();
        this._createSnakeAi();
    };
    /**
     * 生成一堆道具
     */
    GameConstroll.prototype._createBean = function () {
        for (var i = 0; i < 300; i++) {
            this._randomCreateBean(Math.random() * 3000, Math.random() * 1500);
        }
        GameData_1.default.beanQuad = this._beanQuadTree;
    };
    /**
     * 生成AI蛇
     */
    GameConstroll.prototype._createSnakeAi = function () {
        for (var i = 0; i < 5; i++) {
            this._randomCreateSnake(i * 200, i * 200, "snake" + i);
        }
        GameData_1.default.allSnakeList.push(GameUI_1.default.instance.snakeSelf);
        Laya.timer.loop(3000, this, this._snakeAiAction);
    };
    /**
     * AI蛇运动
     */
    GameConstroll.prototype._snakeAiAction = function () {
        for (var i = 0; i < this._snakeAi.length; i++) {
            this._snakeAi[i].upMove(180 - Math.random() * 360);
            this._snakeAi[i].speedNow = Math.random() < 0.9 ? "slow" : "fast";
        }
    };
    /**
     * 蛇之间的碰撞检测
     */
    GameConstroll.prototype._snakeCollision = function () {
        var head, bodys, body;
        for (var i = 0; i < GameData_1.default.allSnakeList.length; i++) {
            head = GameData_1.default.allSnakeList[i];
            for (var j = 0; j < GameData_1.default.allSnakeList.length; j++) {
                bodys = GameData_1.default.allSnakeList[j];
                if (head != bodys && !head.InvincibleSecond && !bodys.InvincibleSecond) { //不是同一条蛇，且不能有蛇是无敌的。。
                    //如果是碰头了。。就一起消失。。
                    for (var k = 1; k < bodys.bodyList.length; k++) {
                        body = bodys.bodyList[k];
                        if (ToolUtils_1.default.getDistance(head.x, head.y, body.x, body.y) <= 40) {
                            console.log(head.id + "碰到了" + bodys.id);
                            this._snakeKillChangeBean(head);
                            if (!head.AI) {
                                GameUI_1.default.instance.showUI(GameUI_1.UIName.OVERUI);
                            }
                            head.destroy();
                            GameData_1.default.allSnakeList.splice(i, 1);
                            return;
                        }
                    }
                }
            }
        }
    };
    /**
     * 碰撞后留下的道具
     */
    GameConstroll.prototype._snakeKillChangeBean = function (sn) {
        for (var i = 0; i < sn.bodyList.length; i++) {
            var body = sn.bodyList[i];
            this._randomCreateBean(body.x, body.y, sn.snakeColNum, Math.floor(Math.random() * 15 + 5));
        }
    };
    /**
     *  随机生成一个道具
     */
    GameConstroll.prototype._randomCreateBean = function (x, y, col, w) {
        if (col === void 0) { col = Math.floor(Math.random() * 5 + 1); }
        if (w === void 0) { w = Math.floor(Math.random() * 5 + 5); }
        var bean = Laya.Pool.getItemByCreateFun("bean", this.Bean.create, this.Bean);
        bean.loadImage("images/bean" + col + ".png");
        bean.width = w;
        bean.height = w;
        bean.pos(x, y);
        GameData_1.default.beanList.push(bean);
        this._beanQuadTree.insert(bean);
        this._gameBox.addChild(bean);
    };
    /**
     * 在容器里生成蛇,默认ai蛇
     */
    GameConstroll.prototype._randomCreateSnake = function (x, y, name, ai) {
        if (ai === void 0) { ai = true; }
        var snake = new Snake_1.default(x, y, name);
        snake.AI = ai;
        GameUI_1.default.instance.gameBox.addChild(snake);
        GameData_1.default.allSnakeList.push(snake);
        if (ai)
            this._snakeAi.push(snake);
    };
    GameConstroll.prototype.onUpdate = function () {
        GameUI_1.default.instance.Update();
        for (var i = 0; i < this._snakeAi.length; i++) {
            this._snakeAi[i].update();
        }
        this._snakeCollision();
    };
    return GameConstroll;
}(Laya.Script));
exports.default = GameConstroll;
},{"../config/Quadtree":3,"../config/ToolUtils":5,"./GameData":9,"./GameUI":10,"./Snake":12}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏数据
 */
var GameData = /** @class */ (function () {
    function GameData() {
    }
    GameData.beanList = []; //小豆子对象
    GameData.allSnakeList = []; //蛇对象数组
    return GameData;
}());
exports.default = GameData;
},{}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Rocker_1 = require("./Rocker");
var Camera2D_1 = require("./Camera2D");
var ToolCMD_1 = require("../config/ToolCMD");
var Snake_1 = require("./Snake");
var GameConfig_1 = require("../GameConfig");
var GameData_1 = require("./GameData");
/**
 * 游戏UI
 */
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        GameUI.instance = _this;
        _this.init();
        _this._addEvent();
        return _this;
    }
    GameUI.prototype.init = function () {
        Rocker_1.default.instance.init(this.rockerMove, this.rockerBox); //操作杆
        this.snakeSelf = new Snake_1.default(GameConfig_1.default.width / 2, GameConfig_1.default.height / 2, "player");
        this.gameBox.addChild(this.snakeSelf);
        this.scoreText.changeText(this.snakeSelf.snakeEatBeanNum + "");
        Camera2D_1.default.instance.start(this.worldMap);
        Camera2D_1.default.instance.focus(this.snakeSelf);
        Laya.stage.on(ToolCMD_1.default.ROCKER_MOVE, this, this._getRockerAngle);
    };
    GameUI.prototype._addEvent = function () {
        //加速
        this.speedBtn.on(Laya.Event.MOUSE_DOWN, this, this._onSpeedBtn);
        this.speedBtn.on(Laya.Event.MOUSE_UP, this, this._onSpeedBtn);
        //重新开始
        this.again.on(Laya.Event.CLICK, this, this.createPlayer);
    };
    /**
     * 重新生成自己蛇
     */
    GameUI.prototype.createPlayer = function () {
        this.snakeSelf = new Snake_1.default(GameConfig_1.default.width / 2, GameConfig_1.default.height / 2, "player");
        this.gameBox.addChild(this.snakeSelf);
        Camera2D_1.default.instance.focus(this.snakeSelf);
        GameData_1.default.allSnakeList.push(GameUI.instance.snakeSelf);
        this.scoreText.changeText(this.snakeSelf.snakeEatBeanNum + "");
        this.showUI(UIName.GAME);
    };
    /**
     * 加速的方法回调
     * @param e
     */
    GameUI.prototype._onSpeedBtn = function (e) {
        if (e.type == "mousedown") {
            this.snakeSelf.speedNow = "fast";
        }
        else {
            this.snakeSelf.speedNow = "slow";
        }
    };
    /**
     * 摇杆的回调函数
     * @param angle 弧度
     */
    GameUI.prototype._getRockerAngle = function (angle) {
        this.snakeSelf.upMove(Laya.Utils.toAngle(angle));
    };
    /**
     * 蛇吃道具加一。。
     */
    GameUI.prototype.addSnakeEatBean = function () {
        this.snakeSelf.snakeEatBeanNum++;
        this.scoreText.changeText(this.snakeSelf.snakeEatBeanNum + "");
    };
    /**
     * 更换UI
     */
    GameUI.prototype.showUI = function (uiname) {
        switch (uiname) {
            case UIName.BEGINUI:
                break;
            case UIName.GAME:
                this.gameOver.visible = false;
                break;
            case UIName.OVERUI:
                this.gameOver.visible = true;
                break;
        }
    };
    GameUI.prototype.Update = function () {
        Camera2D_1.default.instance.update();
        this.snakeSelf.update();
    };
    return GameUI;
}(layaMaxUI_1.ui.gameMainUI));
exports.default = GameUI;
var UIName;
(function (UIName) {
    UIName[UIName["BEGINUI"] = 0] = "BEGINUI";
    UIName[UIName["GAME"] = 1] = "GAME";
    UIName[UIName["OVERUI"] = 2] = "OVERUI";
})(UIName = exports.UIName || (exports.UIName = {}));
},{"../GameConfig":1,"../config/ToolCMD":4,"../ui/layaMaxUI":13,"./Camera2D":7,"./GameData":9,"./Rocker":11,"./Snake":12}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ToolCMD_1 = require("../config/ToolCMD");
/*
 * @Description: 操作杆
 * @Author:jwei
 * @Date: 2018-11-22 12:04:22
 * @LastEditTime: 2018-11-23 10:44:05
 * @LastEditors: Please set LastEditors
 */
var Rocker = /** @class */ (function () {
    function Rocker() {
        //多点触控，记录当前触控id
        this._touchId = -1;
    }
    Object.defineProperty(Rocker, "instance", {
        get: function () {
            this._instance = this._instance || new Rocker;
            return this._instance;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @msg: 初始化参数
     * @param {type}
     * @return:
     */
    Rocker.prototype.init = function (sp, spBox) {
        this._centerPosition = new Laya.Point();
        this._centerPosition.x = sp.x;
        this._centerPosition.y = sp.y;
        this._bigSp = spBox;
        this._minSp = sp;
        sp.on(Laya.Event.MOUSE_DOWN, this, this._onTouchDown);
        return spBox;
    };
    /**
     * @msg：刚按下执行的方法
     * @param {type}
     * @return:
     */
    Rocker.prototype._onTouchDown = function (ent) {
        if (this._touchId == -1) {
            this._touchId = ent.touchId;
            Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this._onTouchMove);
            Laya.stage.on(Laya.Event.MOUSE_UP, this, this._onTouchUp);
        }
    };
    /**
     * @msg:移动执行的方法
     * @param {type}
     * @return:
     */
    Rocker.prototype._onTouchMove = function (ent) {
        if (this._touchId != -1 && ent.touchId == this._touchId) {
            var R2 = this._bigSp.width / 2 - this._minSp.width / 2;
            var R = Math.sqrt(Math.pow(ent.stageX - this._centerPosition.x, 2) + Math.pow(ent.stageY - this._centerPosition.y, 2));
            //是否大于两圆半径之和
            if (R > R2)
                R = R2;
            var cs = Math.atan2(ent.stageY - this._centerPosition.y, ent.stageX - this._centerPosition.x);
            var cx = R * Math.cos(cs) + this._centerPosition.x, cy = R * Math.sin(cs) + this._centerPosition.y;
            this._minSp.pos(cx, cy);
            Laya.stage.event(ToolCMD_1.default.ROCKER_MOVE, cs);
        }
    };
    /**
     * @msg: 手抬起,中心的圆要弹回去
     * @param {type}
     * @return:
     */
    Rocker.prototype._onTouchUp = function (ent) {
        //判断是否有按下和当前抬起的是否为原来那个点。
        if (this._touchId != -1 && ent.touchId == this._touchId) {
            this._touchId = -1;
            Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this._onTouchMove);
            Laya.stage.off(Laya.Event.MOUSE_UP, this, this._onTouchUp);
            Laya.Tween.to(this._minSp, {
                x: this._centerPosition.x,
                y: this._centerPosition.y,
            }, 100);
        }
    };
    return Rocker;
}());
exports.default = Rocker;
},{"../config/ToolCMD":4}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameUI_1 = require("./GameUI");
var GameData_1 = require("./GameData");
var ToolUtils_1 = require("../config/ToolUtils");
/**
 * 蛇类
 */
var Snake = /** @class */ (function (_super) {
    __extends(Snake, _super);
    function Snake(x, y, id, col) {
        if (col === void 0) { col = Math.round(Math.random() * 4 + 1); }
        var _this = _super.call(this) || this;
        _this.AI = false; //是否为ai;
        _this.bodyList = []; //蛇身数组
        _this.snakeEatBeanNum = 20; //蛇身长度
        _this.oneBodyBeanNum = 5; //吃几颗豆增加一节身体
        _this.speedObj = { "slow": 4, "fast": 6, "rotation": 0 }; //蛇移动速度
        _this.speedNow = "slow";
        _this.kill = false; //是否挂了
        _this.InvincibleSecond = true; //无敌3秒
        _this.pathList = []; //蛇头移动轨迹数组（以最小单位1建立数组）,队列
        _this.id = id;
        _this.snakeColNum = col;
        _this.zOrder = 1;
        _this.width = 40;
        _this.height = 40;
        _this.pivot(20, 20);
        _this.pos(x, y);
        _this.nameText = new Laya.Text();
        _this.nameText.text = _this.id;
        _this.nameText.pos(20, 20);
        _this.nameText.pivot(20, 40);
        _this.addChild(_this.nameText);
        _this.init();
        Laya.timer.once(3000, _this, _this._changeInvin);
        return _this;
    }
    Snake.prototype._changeInvin = function () {
        this.InvincibleSecond = false;
    };
    Snake.prototype.init = function () {
        this.loadImage("images/head" + this.snakeColNum + ".png");
        //初始化蛇身
        for (var i = 0; i < Math.floor(this.snakeEatBeanNum / this.oneBodyBeanNum); i++) {
            this._addBody(this.x, this.y);
        }
    };
    /**
     * 添加一节身体
     * @param x
     * @param y
     */
    Snake.prototype._addBody = function (x, y) {
        var sp = new Laya.Sprite();
        sp.loadImage("images/body" + this.snakeColNum + ".png");
        sp.pivot(20, 20);
        sp.pos(x, y);
        this.bodyList.unshift(sp);
        GameUI_1.default.instance.gameBox.addChild(sp);
    };
    //蛇身移动
    Snake.prototype._bodyMove = function () {
        var obj;
        for (var i = 0; i < this.bodyList.length; i++) {
            obj = this.pathList[20 * i];
            if (obj) {
                this.bodyList[i].pos(obj.x, obj.y);
            }
        }
        this.pathList.splice(this.bodyList.length * 20);
        this._checkSnakeBody();
    };
    //检查蛇身
    Snake.prototype._checkSnakeBody = function () {
        var len = Math.floor(this.snakeEatBeanNum / this.oneBodyBeanNum) - this.bodyList.length;
        if (len) {
            var obj = this.pathList.pop();
            this._addBody(obj["x"], obj["y"]);
        }
    };
    //判断有无吃到东西。。。
    Snake.prototype._checkEatProp = function () {
        for (var i = 0; i < GameData_1.default.beanList.length; i++) {
            if ((ToolUtils_1.default.getDistance(this.x, this.y, GameData_1.default.beanList[i].x, GameData_1.default.beanList[i].y) - GameData_1.default.beanList[i].width / 2) < 30) {
                var bean = GameData_1.default.beanList.splice(i, 1);
                Laya.Tween.to(bean[0], {
                    x: this.x,
                    y: this.y
                }, 30, null, Laya.Handler.create(null, function (obj) {
                    obj.removeSelf();
                }, bean));
                if (this.AI) {
                    this.snakeEatBeanNum++;
                }
                else {
                    GameUI_1.default.instance.addSnakeEatBean();
                }
            }
        }
    };
    //改变方向
    Snake.prototype.upMove = function (angle) {
        this.rotation = angle;
        this.speedObj["rotation"] = Laya.Utils.toRadian(angle);
        this.nameText.rotation = -angle;
    };
    //销毁自身
    Snake.prototype.destroy = function () {
        this.kill = true;
        for (var i = 0; i < this.bodyList.length; i++) {
            // GameUI.instance.gameBox.removeChild(this.bodyList[i]);
            this.bodyList[i].removeSelf();
            this.removeSelf();
        }
    };
    Snake.prototype.update = function () {
        if (this.kill)
            return;
        var speed = this.speedObj[this.speedNow], old = { x: this.x, y: this.y };
        this.x += speed * Math.cos(this.speedObj["rotation"]);
        this.y += speed * Math.sin(this.speedObj["rotation"]);
        if (this.x < 20)
            this.x = 20;
        if (this.x > 2980)
            this.x = 2980;
        if (this.y < 20)
            this.y = 20;
        if (this.y > 1480)
            this.y = 1480;
        for (var i = 0; i < speed; i++) { //记录每次走过的坐标。。1为单位
            var x = (this.x - old.x) * i / speed + old.x, y = (this.y - old.y) * i / speed + old.y;
            this.pathList.unshift({ x: x, y: y });
        }
        this._bodyMove();
        this._checkEatProp();
    };
    return Snake;
}(Laya.Sprite));
exports.default = Snake;
},{"../config/ToolUtils":5,"./GameData":9,"./GameUI":10}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var ui;
(function (ui) {
    var gameMainUI = /** @class */ (function (_super) {
        __extends(gameMainUI, _super);
        function gameMainUI() {
            return _super.call(this) || this;
        }
        gameMainUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("gameMain");
        };
        return gameMainUI;
    }(Scene));
    ui.gameMainUI = gameMainUI;
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NvZnR3YXJlL0xheWFBaXJJREUyLjA0L3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvY29uZmlnL1F1YWR0cmVlLnRzIiwic3JjL2NvbmZpZy9Ub29sQ01ELnRzIiwic3JjL2NvbmZpZy9Ub29sVXRpbHMudHMiLCJzcmMvc2NyaXB0L0JlYW5TY3JpcHQudHMiLCJzcmMvc2NyaXB0L0NhbWVyYTJELnRzIiwic3JjL3NjcmlwdC9HYW1lQ29uc3Ryb2xsLnRzIiwic3JjL3NjcmlwdC9HYW1lRGF0YS50cyIsInNyYy9zY3JpcHQvR2FtZVVJLnRzIiwic3JjL3NjcmlwdC9Sb2NrZXIudHMiLCJzcmMvc2NyaXB0L1NuYWtlLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsMENBQW9DO0FBQ3BDLHdEQUFrRDtBQUNsRCxrREFBNEM7QUFDNUM7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxnQkFBTSxDQUFDLENBQUM7UUFDL0IsR0FBRyxDQUFDLHlCQUF5QixFQUFDLHVCQUFhLENBQUMsQ0FBQztRQUM3QyxHQUFHLENBQUMsc0JBQXNCLEVBQUMsb0JBQVUsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFsQk0sZ0JBQUssR0FBUSxJQUFJLENBQUM7SUFDbEIsaUJBQU0sR0FBUSxHQUFHLENBQUM7SUFDbEIsb0JBQVMsR0FBUSxZQUFZLENBQUM7SUFDOUIscUJBQVUsR0FBUSxNQUFNLENBQUM7SUFD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QUFDLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1RSxDQUFDO0lBQ0QsV0FBVztJQUNYLDJCQUFRLEdBQVIsVUFBUyxLQUFvQjtRQUN6QixJQUFJLEtBQUssR0FBQyxDQUFDLENBQUMsQ0FBQztRQUNiLEtBQUs7UUFDTCxJQUFJLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQ25DLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBQyxDQUFDLENBQUM7UUFFekMsSUFBSSxDQUFDLEdBQUMsS0FBSyxDQUFDLENBQUMsR0FBQyxDQUFDLElBQUUsS0FBSyxDQUFDLENBQUMsR0FBQyxLQUFLLENBQUMsTUFBTSxHQUFDLENBQUMsRUFBQyxRQUFRO1FBQzVDLENBQUMsR0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBQyxRQUFRO1FB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VUFBRSxLQUFGLFVBQUUsUUFrQmYiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBHYW1lVUkgZnJvbSBcIi4vc2NyaXB0L0dhbWVVSVwiXG5pbXBvcnQgR2FtZUNvbnN0cm9sbCBmcm9tIFwiLi9zY3JpcHQvR2FtZUNvbnN0cm9sbFwiXG5pbXBvcnQgQmVhblNjcmlwdCBmcm9tIFwiLi9zY3JpcHQvQmVhblNjcmlwdFwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZHdpZHRoXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJnYW1lTWFpbi5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj10cnVlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZVVJLnRzXCIsR2FtZVVJKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVDb25zdHJvbGwudHNcIixHYW1lQ29uc3Ryb2xsKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0JlYW5TY3JpcHQudHNcIixCZWFuU2NyaXB0KTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCIvLyDlm5vlj4nmoJHnmoTlrp7njrBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVhZHRyZWV7XHJcbiAgICBwcml2YXRlIE1BWF9PQkpFQ1RTOm51bWJlciA9IDEwO1xyXG4gICAgcHJpdmF0ZSBNQVhfTEVWRUxTOm51bWJlciA9IDU7XHJcblxyXG4gICAgcHJpdmF0ZSBsZXZlbDpudW1iZXI7ICAgICAgICAgICAvLyDlrZDoioLngrnmt7HluqZcclxuICAgIHByaXZhdGUgb2JqZWN0czphbnk7ICAgICAgICAgICAgLy8g54mp5L2T5pWw57uEXHJcbiAgICBwcml2YXRlIGJvdW5kczpMYXlhLlJlY3RhbmdsZTsgIC8vIOWMuuWfn+i+ueeVjFxyXG4gICAgcHJpdmF0ZSBub2RlczpBcnJheTxRdWFkdHJlZT49W107IFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxldmVsOm51bWJlcixib3VuZHM6TGF5YS5SZWN0YW5nbGUpe1xyXG4gICAgICAgIHRoaXMubGV2ZWw9bGV2ZWw7XHJcbiAgICAgICAgdGhpcy5ib3VuZHM9Ym91bmRzO1xyXG4gICAgICAgIHRoaXMub2JqZWN0cz1bXTtcclxuICAgICAgICB0aGlzLm5vZGVzPVtdO1xyXG4gICAgfVxyXG4gICAgLy8gY2xlYXIsIHNwbGl0LCBnZXRJbmRleCwgaW5zZXJ05ZKMIHJldHJpZXZlXHJcbiAgICBjbGVhcigpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5vYmplY3RzPVtdO1xyXG5cclxuICAgICAgICBmb3IodmFyIGk9MDtpPHRoaXMubm9kZXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZXNbaV0uY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5ub2Rlc1tpXT1udWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5bCG5b2T5YmN6IqC54K55YiG5Ymy5oiQNOS4quiKgueCueOAguOAglxyXG4gICAgc3BsaXQoKTp2b2lke1xyXG4gICAgICAgdmFyIHcgPSB0aGlzLmJvdW5kcy53aWR0aC8yLFxyXG4gICAgICAgICAgIGggPSB0aGlzLmJvdW5kcy5oZWlnaHQvMixcclxuICAgICAgICAgICB4ID0gdGhpcy5ib3VuZHMueCxcclxuICAgICAgICAgICB5ID0gdGhpcy5ib3VuZHMueTtcclxuICAgICAgIHRoaXMubm9kZXNbMF09bmV3IFF1YWR0cmVlKHRoaXMubGV2ZWwrMSxuZXcgTGF5YS5SZWN0YW5nbGUoeCt3LHksdyxoKSk7XHJcbiAgICAgICB0aGlzLm5vZGVzWzFdPW5ldyBRdWFkdHJlZSh0aGlzLmxldmVsKzEsbmV3IExheWEuUmVjdGFuZ2xlKHgseSx3LGgpKTtcclxuICAgICAgIHRoaXMubm9kZXNbMl09bmV3IFF1YWR0cmVlKHRoaXMubGV2ZWwrMSxuZXcgTGF5YS5SZWN0YW5nbGUoeCx5K2gsdyxoKSk7XHJcbiAgICAgICB0aGlzLm5vZGVzWzNdPW5ldyBRdWFkdHJlZSh0aGlzLmxldmVsKzEsbmV3IExheWEuUmVjdGFuZ2xlKHgrdyx5K2gsdyxoKSk7XHJcbiAgICB9XHJcbiAgICAvL+W+l+WIsOi/meS4quiKgueCueeahOe0ouW8lVxyXG4gICAgZ2V0SW5kZXgocFJlY3Q6TGF5YS5SZWN0YW5nbGUpOm51bWJlcntcclxuICAgICAgICB2YXIgaW5kZXg9LTE7XHJcbiAgICAgICAgLy8g5Lit57q/XHJcbiAgICAgICAgdmFyIHY9dGhpcy5ib3VuZHMueCt0aGlzLmJvdW5kcy53aWR0aC8yLFxyXG4gICAgICAgICAgICBoPXRoaXMuYm91bmRzLnkrdGhpcy5ib3VuZHMuaGVpZ2h0LzI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHQ9cFJlY3QueTxoJiZwUmVjdC55K3BSZWN0LmhlaWdodDxoLC8vIOWujOWFqOWcqOS4iumdolxyXG4gICAgICAgICAgICBiPXBSZWN0Lnk+aCwvLyDlrozlhajlnKjkuIvpnaJcclxuICAgICAgICAgICAgcj1wUmVjdC54PnYsLy/lj7PovrlcclxuICAgICAgICAgICAgbD1wUmVjdC54K3BSZWN0LndpZHRoPHY7Ly/lt6bovrlcclxuICAgICAgICBpZihyKXtcclxuICAgICAgICAgICAgaWYodClpbmRleD0wO1xyXG4gICAgICAgICAgICBpZihiKWluZGV4PTM7XHJcbiAgICAgICAgfWVsc2UgaWYobCl7XHJcbiAgICAgICAgICAgIGlmKHQpaW5kZXg9MTtcclxuICAgICAgICAgICAgaWYoYilpbmRleD0yO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcbiAgICAvLyDmj5LlhaVcclxuICAgIGluc2VydChvYmo6YW55KTp2b2lke1xyXG4gICAgICAgIGlmKG9iaj09dW5kZWZpbmVkKXJldHVybjtcclxuICAgICAgICBpZihvYmogaW5zdGFuY2VvZiBBcnJheSl7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8b2JqLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnQob2JqW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMubm9kZXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgdmFyIGluZGV4PXRoaXMuZ2V0SW5kZXgob2JqKTtcclxuICAgICAgICAgICAgaWYoaW5kZXghPS0xKXtcclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZXNbaW5kZXhdLmluc2VydChvYmopO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub2JqZWN0cy5wdXNoKG9iaik7XHJcbiAgICAgICAgaWYodGhpcy5vYmplY3RzLmxlbmd0aD50aGlzLk1BWF9PQkpFQ1RTJiZ0aGlzLmxldmVsPHRoaXMuTUFYX0xFVkVMUyl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMubm9kZXNbMF09PW51bGwpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBpPTA7XHJcbiAgICAgICAgICAgIHdoaWxlKGk8dGhpcy5vYmplY3RzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kPXRoaXMuZ2V0SW5kZXgodGhpcy5vYmplY3RzW2ldKTtcclxuICAgICAgICAgICAgICAgIGlmKGluZCE9LTEpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZXNbaW5kXS5pbnNlcnQoKHRoaXMub2JqZWN0cy5zcGxpY2UoaSwxKSlbMF0pO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIC8v5omA5pyJ5Y+v6IO95ZKM5oyH5a6a54mp5ZOB56Kw5pKe55qE54mp5L2TXHJcbiAgICByZXRyaWV2ZShyZXR1cm5lZE9iamVjdHMsb2JqKTphbnl7XHJcbiAgICAgICAgaWYodHlwZW9mIG9iaiA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1bmRlcmZpbmVkIG9iamVjdFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW5kZXg9dGhpcy5nZXRJbmRleChvYmopO1xyXG4gICAgICAgIGlmKGluZGV4IT0tMSAmJiB0aGlzLm5vZGVzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZXNbaW5kZXhdLnJldHJpZXZlKHJldHVybmVkT2JqZWN0cyxvYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IodmFyIGk9MDtpPHRoaXMub2JqZWN0cy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgcmV0dXJuZWRPYmplY3RzLnB1c2godGhpcy5vYmplY3RzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJldHVybmVkT2JqZWN0cztcclxuICAgIH1cclxufSIsIi8qXHJcbiAqIEBEZXNjcmlwdGlvbjrmnprkuL5cclxuICogQEF1dGhvcjogandlaVxyXG4gKiBARGF0ZTogMjAxOC0xMS0yMiAxNjoyNToxM1xyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDE4LTExLTIyIDE2OjI3OjA2XHJcbiAqIEBMYXN0RWRpdG9yczogandlaVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbENNRHtcclxuICAgIHN0YXRpYyBST0NLRVJfTU9WRTpzdHJpbmc9XCJyb2NrZXJfbW92ZVwiO1xyXG59XHJcbiIsIi8qKlxyXG4gKiDlt6Xlhbflh73mlbBcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2xVdGlsc3tcclxuICAgIC8qKlxyXG4gICAgICog5b6X5Yiw5Lik54K555qE6Led56a744CC44CCXHJcbiAgICAgKiBAcGFyYW0geDEgXHJcbiAgICAgKiBAcGFyYW0geTEgXHJcbiAgICAgKiBAcGFyYW0geDIgXHJcbiAgICAgKiBAcGFyYW0geTIgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXREaXN0YW5jZSh4MSx5MSx4Mix5Mik6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coeDEteDIsMikrTWF0aC5wb3coeTEteTIsMikpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9HYW1lVUlcIjtcclxuXHJcbi8qKlxyXG4gKiDpo5/niannmoTohJrmnKxcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJlYW5TY3JpcHQgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuICAgIG9uRW5hYmxlKCk6dm9pZHtcclxuICAgIC8vICAgIHZhciBzcDpMYXlhLlNwcml0ZT10aGlzLm93bmVyIGFzIExheWEuU3ByaXRlO1xyXG4gICAgfVxyXG4gICAgb25UcmlnZ2VyRW50ZXIoKTp2b2lke1xyXG4gICAgICAgIC8v56Kw5Yiw5bCx5raI5aSxXHJcbiAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICB9XHJcbiAgICBvbkRlc3Ryb3koKTp2b2lke1xyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiYmVhblwiLHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4uL0dhbWVDb25maWdcIjtcclxuXHJcbi8qXHJcbiAqIEBEZXNjcmlwdGlvbjogMmTnm7jmnLrot5/pmo9cclxuICogQEF1dGhvcjogandlaSBcclxuICogQERhdGU6IDIwMTgtMTEtMjIgMTI6MDM6MTlcclxuICogQExhc3RFZGl0VGltZTogMjAxOC0xMS0yMyAxMDo1ODo0MVxyXG4gKiBATGFzdEVkaXRvcnM6IFBsZWFzZSBzZXQgTGFzdEVkaXRvcnNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYTJEe1xyXG4gICAgLy/ljZXkvotcclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogQ2FtZXJhMkQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBDYW1lcmEyRCB7XHJcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSB0aGlzLl9pbnN0YW5jZSB8fCBuZXcgQ2FtZXJhMkQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlXHJcbiAgICB9XHJcblxyXG4gICAgLy8g6KeG56qXXHJcbiAgICBwcml2YXRlIF9jYW1lcmFWaWV3OkxheWEuUmVjdGFuZ2xlO1xyXG4gICAgcHVibGljIGdldCBjYW1lcmFWaWV3KCk6TGF5YS5SZWN0YW5nbGV7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbWVyYVZpZXc7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9zY2VuZTpMYXlhLlNwcml0ZTtcclxuICAgIHByaXZhdGUgX2ZvY3VzVGFyZ2V0OkxheWEuU3ByaXRlO1xyXG4gICAgcHJpdmF0ZSBfbWFwVz0zMDAwO1xyXG4gICAgcHJpdmF0ZSBfbWFwSD0xNTAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICBcclxuICAgIH1cclxuICAgIHN0YXJ0KHNjZW5lOkxheWEuU3ByaXRlKTp2b2lke1xyXG4gICAgICAgdGhpcy5fc2NlbmU9c2NlbmU7XHJcbiAgICAgICB0aGlzLl9jYW1lcmFWaWV3PW5ldyBMYXlhLlJlY3RhbmdsZSgwLDAsR2FtZUNvbmZpZy53aWR0aCxHYW1lQ29uZmlnLmhlaWdodCk7XHJcbiAgICAgICB0aGlzLl9zY2VuZS5zY3JvbGxSZWN0PXRoaXMuX2NhbWVyYVZpZXc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbXNnOiDnu5HlrprkuLvop4bop5JcclxuICAgICAqIEBwYXJhbSB7dHlwZX0gXHJcbiAgICAgKiBAcmV0dXJuOiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGZvY3VzKHRhcmdldDpMYXlhLlNwcml0ZSk6dm9pZHtcclxuICAgICAgICB0aGlzLl9mb2N1c1RhcmdldD10YXJnZXQ7XHJcbiAgICAgICAgdGhpcy5fY2FtZXJhVmlldy54PXRoaXMuX2ZvY3VzVGFyZ2V0LngtKEdhbWVDb25maWcud2lkdGg+PjEpO1xyXG4gICAgICAgIHRoaXMuX2NhbWVyYVZpZXcueT10aGlzLl9mb2N1c1RhcmdldC55LShHYW1lQ29uZmlnLmhlaWdodD4+MSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQG1zZzrlrp7ml7bmm7TmlrAgXHJcbiAgICAgKiBAcGFyYW0ge3R5cGV9IFxyXG4gICAgICogQHJldHVybjogXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB1cGRhdGUoKTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMuX2ZvY3VzVGFyZ2V0KXtcclxuICAgICAgICAgICAgaWYodGhpcy5fZm9jdXNUYXJnZXQueD4wICYmICh0aGlzLl9mb2N1c1RhcmdldC54LUdhbWVDb25maWcud2lkdGgvMikgPCB0aGlzLl9tYXBXKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbWVyYVZpZXcueD10aGlzLl9mb2N1c1RhcmdldC54LShHYW1lQ29uZmlnLndpZHRoPj4xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLl9mb2N1c1RhcmdldC55PihHYW1lQ29uZmlnLmhlaWdodD4+MSkgfHwgKHRoaXMuX2ZvY3VzVGFyZ2V0LnkrR2FtZUNvbmZpZy5oZWlnaHQvMikgPCB0aGlzLl9tYXBIKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbWVyYVZpZXcueT10aGlzLl9mb2N1c1RhcmdldC55LShHYW1lQ29uZmlnLmhlaWdodD4+MSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IEdhbWVVSSwgeyBVSU5hbWUgfSBmcm9tIFwiLi9HYW1lVUlcIjtcclxuaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4uL0dhbWVDb25maWdcIjtcclxuaW1wb3J0IFRvb2xVdGlscyBmcm9tIFwiLi4vY29uZmlnL1Rvb2xVdGlsc1wiO1xyXG5pbXBvcnQgU25ha2UgZnJvbSBcIi4vU25ha2VcIjtcclxuaW1wb3J0IFF1YWRUcmVlIGZyb20gXCIuLi9jb25maWcvUXVhZHRyZWVcIjtcclxuaW1wb3J0IEdhbWVEYXRhIGZyb20gXCIuL0dhbWVEYXRhXCI7XHJcbi8qKlxyXG4gKiDmuLjmiI/mjqfliLbohJrmnKxcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25zdHJvbGwgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpCZWFuLHRpcHM6XCLpgZPlhbdcIix0eXBlOlByZWZhYn0gKi9cclxuICAgIEJlYW46TGF5YS5QcmVmYWI7XHJcblxyXG4gICAgcHJpdmF0ZSBfZ2FtZUJveDpMYXlhLlNwcml0ZTtcclxuICAgIHByaXZhdGUgX2JlYW5RdWFkVHJlZTpRdWFkVHJlZT1udWxsOy8v55So5Zub5Y+J5qCR5L+d5a2Y6YGT5YW377yM5LyY5YyW56Kw5pKe5qOA5rWLXHJcbiAgICBwcml2YXRlIF9zbmFrZUFpOkFycmF5PFNuYWtlPj1bXTtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuICAgIG9uRW5hYmxlKCk6dm9pZHtcclxuICAgICAgICB0aGlzLl9nYW1lQm94ID0gdGhpcy5vd25lcltcImdhbWVCb3hcIl0gYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgdGhpcy5fYmVhblF1YWRUcmVlID0gbmV3IFF1YWRUcmVlKDMsbmV3IExheWEuUmVjdGFuZ2xlKDAsMCwzMDAwLDE1MDApKTtcclxuICAgICAgICB0aGlzLl9jcmVhdGVCZWFuKCk7XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlU25ha2VBaSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDnlJ/miJDkuIDloIbpgZPlhbdcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfY3JlYXRlQmVhbigpOnZvaWR7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTwzMDA7aSsrKXtcclxuICAgICAgICAgICAgdGhpcy5fcmFuZG9tQ3JlYXRlQmVhbihNYXRoLnJhbmRvbSgpKjMwMDAsTWF0aC5yYW5kb20oKSoxNTAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgR2FtZURhdGEuYmVhblF1YWQ9dGhpcy5fYmVhblF1YWRUcmVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDnlJ/miJBBSeibh1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9jcmVhdGVTbmFrZUFpKCk6dm9pZHtcclxuICAgICAgICBmb3IodmFyIGk9MDtpPDU7aSsrKXtcclxuICAgICAgICAgICB0aGlzLl9yYW5kb21DcmVhdGVTbmFrZShpKjIwMCxpKjIwMCxcInNuYWtlXCIraSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEdhbWVEYXRhLmFsbFNuYWtlTGlzdC5wdXNoKEdhbWVVSS5pbnN0YW5jZS5zbmFrZVNlbGYpO1xyXG4gICAgICAgIExheWEudGltZXIubG9vcCgzMDAwLHRoaXMsdGhpcy5fc25ha2VBaUFjdGlvbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFJ6JuH6L+Q5YqoXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX3NuYWtlQWlBY3Rpb24oKTp2b2lke1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5fc25ha2VBaS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgdGhpcy5fc25ha2VBaVtpXS51cE1vdmUoMTgwIC0gTWF0aC5yYW5kb20oKSAqIDM2MCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NuYWtlQWlbaV0uc3BlZWROb3c9TWF0aC5yYW5kb20oKTwwLjk/XCJzbG93XCI6XCJmYXN0XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDom4fkuYvpl7TnmoTnorDmkp7mo4DmtYtcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfc25ha2VDb2xsaXNpb24oKTp2b2lke1xyXG4gICAgICAgIHZhciBoZWFkLGJvZHlzLGJvZHk7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTxHYW1lRGF0YS5hbGxTbmFrZUxpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGhlYWQ9R2FtZURhdGEuYWxsU25ha2VMaXN0W2ldO1xyXG4gICAgICAgICAgICBmb3IodmFyIGo9MDtqPEdhbWVEYXRhLmFsbFNuYWtlTGlzdC5sZW5ndGg7aisrKXtcclxuICAgICAgICAgICAgICAgIGJvZHlzPUdhbWVEYXRhLmFsbFNuYWtlTGlzdFtqXTtcclxuICAgICAgICAgICAgICAgIGlmKGhlYWQhPWJvZHlzJiYhaGVhZC5JbnZpbmNpYmxlU2Vjb25kJiYhYm9keXMuSW52aW5jaWJsZVNlY29uZCl7Ly/kuI3mmK/lkIzkuIDmnaHom4fvvIzkuJTkuI3og73mnInom4fmmK/ml6DmlYznmoTjgILjgIJcclxuICAgICAgICAgICAgICAgICAgICAvL+WmguaenOaYr+eisOWktOS6huOAguOAguWwseS4gOi1t+a2iOWkseOAguOAglxyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaz0xO2s8Ym9keXMuYm9keUxpc3QubGVuZ3RoO2srKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk9Ym9keXMuYm9keUxpc3Rba107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKFRvb2xVdGlscy5nZXREaXN0YW5jZShoZWFkLngsaGVhZC55LGJvZHkueCxib2R5LnkpPD00MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhoZWFkLmlkK1wi56Kw5Yiw5LqGXCIrYm9keXMuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc25ha2VLaWxsQ2hhbmdlQmVhbihoZWFkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFoZWFkLkFJKXtHYW1lVUkuaW5zdGFuY2Uuc2hvd1VJKFVJTmFtZS5PVkVSVUkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lRGF0YS5hbGxTbmFrZUxpc3Quc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOeisOaSnuWQjueVmeS4i+eahOmBk+WFt1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9zbmFrZUtpbGxDaGFuZ2VCZWFuKHNuOlNuYWtlKTp2b2lke1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8c24uYm9keUxpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIHZhciBib2R5PXNuLmJvZHlMaXN0W2ldO1xyXG4gICAgICAgICAgICB0aGlzLl9yYW5kb21DcmVhdGVCZWFuKGJvZHkueCxib2R5Lnksc24uc25ha2VDb2xOdW0sTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE1KzUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqICDpmo/mnLrnlJ/miJDkuIDkuKrpgZPlhbdcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfcmFuZG9tQ3JlYXRlQmVhbih4LHksY29sOm51bWJlcj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNSsxKSx3Om51bWJlcj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNSs1KSk6dm9pZHtcclxuICAgICAgICB2YXIgYmVhbjpMYXlhLlNwcml0ZSA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJiZWFuXCIsdGhpcy5CZWFuLmNyZWF0ZSx0aGlzLkJlYW4pO1xyXG4gICAgICAgICAgICBiZWFuLmxvYWRJbWFnZShcImltYWdlcy9iZWFuXCIrY29sK1wiLnBuZ1wiKTtcclxuICAgICAgICAgICAgYmVhbi53aWR0aD13O1xyXG4gICAgICAgICAgICBiZWFuLmhlaWdodD13O1xyXG4gICAgICAgICAgICBiZWFuLnBvcyh4LHkpO1xyXG4gICAgICAgIEdhbWVEYXRhLmJlYW5MaXN0LnB1c2goYmVhbik7XHJcbiAgICAgICAgdGhpcy5fYmVhblF1YWRUcmVlLmluc2VydChiZWFuKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm94LmFkZENoaWxkKGJlYW4pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlnKjlrrnlmajph4znlJ/miJDom4cs6buY6K6kYWnom4dcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfcmFuZG9tQ3JlYXRlU25ha2UoeCx5LG5hbWU6c3RyaW5nLGFpOmJvb2xlYW49dHJ1ZSk6dm9pZHtcclxuICAgICAgICB2YXIgc25ha2UgPSBuZXcgU25ha2UoeCx5LG5hbWUpO1xyXG4gICAgICAgICAgICBzbmFrZS5BST1haTtcclxuICAgICAgICAgICAgR2FtZVVJLmluc3RhbmNlLmdhbWVCb3guYWRkQ2hpbGQoc25ha2UpO1xyXG4gICAgICAgICAgICBHYW1lRGF0YS5hbGxTbmFrZUxpc3QucHVzaChzbmFrZSk7ICBcclxuICAgICAgICAgICAgaWYoYWkpdGhpcy5fc25ha2VBaS5wdXNoKHNuYWtlKTtcclxuICAgIH1cclxuICAgIG9uVXBkYXRlKCk6dm9pZHtcclxuICAgICAgICBHYW1lVUkuaW5zdGFuY2UuVXBkYXRlKCk7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTx0aGlzLl9zbmFrZUFpLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICB0aGlzLl9zbmFrZUFpW2ldLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zbmFrZUNvbGxpc2lvbigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFNuYWtlIGZyb20gXCIuL1NuYWtlXCI7XHJcbmltcG9ydCBRdWFkdHJlZSBmcm9tIFwiLi4vY29uZmlnL1F1YWR0cmVlXCI7XHJcblxyXG4vKipcclxuICog5ri45oiP5pWw5o2uXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lRGF0YXtcclxuICAgIHN0YXRpYyBiZWFuTGlzdDpBcnJheTxMYXlhLlNwcml0ZT49W107IC8v5bCP6LGG5a2Q5a+56LGhXHJcbiAgICBzdGF0aWMgYmVhblF1YWQ6UXVhZHRyZWU7IC8v5L2/55So5Zub5Y+J5qCR5a2Y5YKo5bCP6LGG5a2Q5a+56LGh44CC44CC5LyY5YyW44CCXHJcbiAgICBzdGF0aWMgYWxsU25ha2VMaXN0OkFycmF5PFNuYWtlPj1bXTsvL+ibh+WvueixoeaVsOe7hFxyXG59XHJcbiIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgUm9ja2VyIGZyb20gXCIuL1JvY2tlclwiO1xyXG5pbXBvcnQgQ2FtZXJhMkQgZnJvbSBcIi4vQ2FtZXJhMkRcIjtcclxuaW1wb3J0IFRvb2xDTUQgZnJvbSBcIi4uL2NvbmZpZy9Ub29sQ01EXCI7XHJcbmltcG9ydCBTbmFrZSBmcm9tIFwiLi9TbmFrZVwiO1xyXG5pbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi4vR2FtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgR2FtZURhdGEgZnJvbSBcIi4vR2FtZURhdGFcIjtcclxuXHJcbi8qKlxyXG4gKiDmuLjmiI9VSVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgdWkuZ2FtZU1haW5VSXtcclxuXHJcbiAgICAvL+mjn+eJqemihOWItuS7tlxyXG4gICAgLyoqIEBwcm9wIHtuYW1lOkJyaWQsdGlwczpcIuWwj+m4n1wiLHR5cGU6UHJlZmFifSAqL1xyXG4gICAgQmVhbjpMYXlhLlByZWZhYjtcclxuICAgIHN0YXRpYyBpbnN0YW5jZTpHYW1lVUk7XHJcbiAgICBcclxuICAgIHNuYWtlU2VsZjpTbmFrZTsgLy/om4dcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBHYW1lVUkuaW5zdGFuY2U9dGhpcztcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICB0aGlzLl9hZGRFdmVudCgpO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpOnZvaWR7XHJcbiAgICAgICAgUm9ja2VyLmluc3RhbmNlLmluaXQodGhpcy5yb2NrZXJNb3ZlLHRoaXMucm9ja2VyQm94KTsvL+aTjeS9nOadhlxyXG5cclxuICAgICAgICB0aGlzLnNuYWtlU2VsZj1uZXcgU25ha2UoR2FtZUNvbmZpZy53aWR0aC8yLEdhbWVDb25maWcuaGVpZ2h0LzIsXCJwbGF5ZXJcIik7XHJcbiAgICAgICAgdGhpcy5nYW1lQm94LmFkZENoaWxkKHRoaXMuc25ha2VTZWxmKTtcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dC5jaGFuZ2VUZXh0KHRoaXMuc25ha2VTZWxmLnNuYWtlRWF0QmVhbk51bStcIlwiKTtcclxuXHJcbiAgICAgICAgQ2FtZXJhMkQuaW5zdGFuY2Uuc3RhcnQodGhpcy53b3JsZE1hcCk7IFxyXG4gICAgICAgIENhbWVyYTJELmluc3RhbmNlLmZvY3VzKHRoaXMuc25ha2VTZWxmKTtcclxuXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihUb29sQ01ELlJPQ0tFUl9NT1ZFLHRoaXMsdGhpcy5fZ2V0Um9ja2VyQW5nbGUpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfYWRkRXZlbnQoKTp2b2lke1xyXG4gICAgICAgIC8v5Yqg6YCfXHJcbiAgICAgICAgdGhpcy5zcGVlZEJ0bi5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sdGhpcyx0aGlzLl9vblNwZWVkQnRuKTtcclxuICAgICAgICB0aGlzLnNwZWVkQnRuLm9uKExheWEuRXZlbnQuTU9VU0VfVVAsdGhpcyx0aGlzLl9vblNwZWVkQnRuKTtcclxuXHJcbiAgICAgICAgLy/ph43mlrDlvIDlp4tcclxuICAgICAgICB0aGlzLmFnYWluLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLmNyZWF0ZVBsYXllcik7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOmHjeaWsOeUn+aIkOiHquW3seibh1xyXG4gICAgICovXHJcbiAgICBjcmVhdGVQbGF5ZXIoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuc25ha2VTZWxmPW5ldyBTbmFrZShHYW1lQ29uZmlnLndpZHRoLzIsR2FtZUNvbmZpZy5oZWlnaHQvMixcInBsYXllclwiKTtcclxuICAgICAgICB0aGlzLmdhbWVCb3guYWRkQ2hpbGQodGhpcy5zbmFrZVNlbGYpO1xyXG4gICAgICAgIENhbWVyYTJELmluc3RhbmNlLmZvY3VzKHRoaXMuc25ha2VTZWxmKTtcclxuICAgICAgICBHYW1lRGF0YS5hbGxTbmFrZUxpc3QucHVzaChHYW1lVUkuaW5zdGFuY2Uuc25ha2VTZWxmKTtcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dC5jaGFuZ2VUZXh0KHRoaXMuc25ha2VTZWxmLnNuYWtlRWF0QmVhbk51bStcIlwiKTtcclxuICAgICAgICB0aGlzLnNob3dVSShVSU5hbWUuR0FNRSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWKoOmAn+eahOaWueazleWbnuiwg1xyXG4gICAgICogQHBhcmFtIGUgXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX29uU3BlZWRCdG4oZTpMYXlhLkV2ZW50KTp2b2lke1xyXG4gICAgICAgIGlmKGUudHlwZT09XCJtb3VzZWRvd25cIil7XHJcbiAgICAgICAgICAgIHRoaXMuc25ha2VTZWxmLnNwZWVkTm93PVwiZmFzdFwiO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLnNuYWtlU2VsZi5zcGVlZE5vdz1cInNsb3dcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaRh+adhueahOWbnuiwg+WHveaVsFxyXG4gICAgICogQHBhcmFtIGFuZ2xlIOW8p+W6plxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9nZXRSb2NrZXJBbmdsZShhbmdsZSk6dm9pZHtcclxuICAgICAgICB0aGlzLnNuYWtlU2VsZi51cE1vdmUoTGF5YS5VdGlscy50b0FuZ2xlKGFuZ2xlKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOibh+WQg+mBk+WFt+WKoOS4gOOAguOAglxyXG4gICAgICovXHJcbiAgICBhZGRTbmFrZUVhdEJlYW4oKTp2b2lke1xyXG4gICAgICAgIHRoaXMuc25ha2VTZWxmLnNuYWtlRWF0QmVhbk51bSsrOyAgICBcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dC5jaGFuZ2VUZXh0KHRoaXMuc25ha2VTZWxmLnNuYWtlRWF0QmVhbk51bStcIlwiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5pu05o2iVUlcclxuICAgICAqL1xyXG4gICAgc2hvd1VJKHVpbmFtZSk6dm9pZHtcclxuXHJcbiAgICAgICAgc3dpdGNoKHVpbmFtZSl7XHJcbiAgICAgICAgICAgIGNhc2UgVUlOYW1lLkJFR0lOVUk6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVSU5hbWUuR0FNRTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIudmlzaWJsZT1mYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVJTmFtZS5PVkVSVUk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVPdmVyLnZpc2libGU9dHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKTp2b2lke1xyXG4gICAgICAgIENhbWVyYTJELmluc3RhbmNlLnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuc25ha2VTZWxmLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxufVxyXG5leHBvcnQgZW51bSBVSU5hbWV7XHJcbiAgICBCRUdJTlVJLFxyXG4gICAgR0FNRSxcclxuICAgIE9WRVJVSSxcclxufSIsImltcG9ydCBUb29sQ01EIGZyb20gXCIuLi9jb25maWcvVG9vbENNRFwiO1xyXG5cclxuLypcclxuICogQERlc2NyaXB0aW9uOiDmk43kvZzmnYZcclxuICogQEF1dGhvcjpqd2VpXHJcbiAqIEBEYXRlOiAyMDE4LTExLTIyIDEyOjA0OjIyXHJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMTgtMTEtMjMgMTA6NDQ6MDVcclxuICogQExhc3RFZGl0b3JzOiBQbGVhc2Ugc2V0IExhc3RFZGl0b3JzXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb2NrZXJ7XHJcbiAgICAvL+WNleS+i1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBSb2NrZXI7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBSb2NrZXIge1xyXG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gdGhpcy5faW5zdGFuY2UgfHwgbmV3IFJvY2tlcjtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2VcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy/orrDlvZXkuK3lv4PngrnjgILjgIJcclxuICAgIHByaXZhdGUgX2NlbnRlclBvc2l0aW9uOkxheWEuUG9pbnQ7XHJcbiAgICAvL+Wkp+WchlxyXG4gICAgcHJpdmF0ZSBfYmlnU3A6TGF5YS5TcHJpdGU7XHJcbiAgICAvL+Wwj+WchlxyXG4gICAgcHJpdmF0ZSBfbWluU3A6TGF5YS5TcHJpdGU7XHJcbiAgICAvL+WkmueCueinpuaOp++8jOiusOW9leW9k+WJjeinpuaOp2lkXHJcbiAgICBwcml2YXRlIF90b3VjaElkOm51bWJlcj0tMTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgIH0gICBcclxuICAgIC8qKlxyXG4gICAgICogQG1zZzog5Yid5aeL5YyW5Y+C5pWwXHJcbiAgICAgKiBAcGFyYW0ge3R5cGV9IFxyXG4gICAgICogQHJldHVybjogXHJcbiAgICAgKi9cclxuICAgIGluaXQoc3A6TGF5YS5TcHJpdGUsc3BCb3g6TGF5YS5TcHJpdGUpOkxheWEuU3ByaXRle1xyXG4gICAgICAgIHRoaXMuX2NlbnRlclBvc2l0aW9uPW5ldyBMYXlhLlBvaW50KCk7XHJcbiAgICAgICAgdGhpcy5fY2VudGVyUG9zaXRpb24ueD1zcC54O1xyXG4gICAgICAgIHRoaXMuX2NlbnRlclBvc2l0aW9uLnk9c3AueTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9iaWdTcD1zcEJveDtcclxuICAgICAgICB0aGlzLl9taW5TcD1zcDtcclxuXHJcbiAgICAgICAgc3Aub24oTGF5YS5FdmVudC5NT1VTRV9ET1dOLHRoaXMsdGhpcy5fb25Ub3VjaERvd24pO1xyXG4gICAgICAgIHJldHVybiBzcEJveDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQG1zZ++8muWImuaMieS4i+aJp+ihjOeahOaWueazlVxyXG4gICAgICogQHBhcmFtIHt0eXBlfSBcclxuICAgICAqIEByZXR1cm46IFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9vblRvdWNoRG93bihlbnQ6TGF5YS5FdmVudCk6dm9pZHtcclxuICAgICAgICBpZih0aGlzLl90b3VjaElkPT0tMSl7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvdWNoSWQ9ZW50LnRvdWNoSWQ7XHJcbiAgICAgICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9NT1ZFLHRoaXMsdGhpcy5fb25Ub3VjaE1vdmUpO1xyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfVVAsdGhpcyx0aGlzLl9vblRvdWNoVXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQG1zZzrnp7vliqjmiafooYznmoTmlrnms5UgXHJcbiAgICAgKiBAcGFyYW0ge3R5cGV9IFxyXG4gICAgICogQHJldHVybjogXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX29uVG91Y2hNb3ZlKGVudDpMYXlhLkV2ZW50KTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMuX3RvdWNoSWQhPS0xICYmIGVudC50b3VjaElkID09IHRoaXMuX3RvdWNoSWQpe1xyXG4gICAgICAgICAgICB2YXIgUjI9dGhpcy5fYmlnU3Aud2lkdGgvMi10aGlzLl9taW5TcC53aWR0aC8yO1xyXG4gICAgICAgICAgICB2YXIgUj1NYXRoLnNxcnQoTWF0aC5wb3coZW50LnN0YWdlWC10aGlzLl9jZW50ZXJQb3NpdGlvbi54LDIpK01hdGgucG93KGVudC5zdGFnZVktdGhpcy5fY2VudGVyUG9zaXRpb24ueSwyKSk7XHJcbiAgICAgICAgICAgIC8v5piv5ZCm5aSn5LqO5Lik5ZyG5Y2K5b6E5LmL5ZKMXHJcbiAgICAgICAgICAgIGlmKFI+UjIpUj1SMjtcclxuICAgICAgICAgICAgdmFyIGNzPU1hdGguYXRhbjIoZW50LnN0YWdlWS10aGlzLl9jZW50ZXJQb3NpdGlvbi55LGVudC5zdGFnZVgtdGhpcy5fY2VudGVyUG9zaXRpb24ueClcclxuICAgICAgICAgICAgdmFyIGN4PVIqTWF0aC5jb3MoY3MpK3RoaXMuX2NlbnRlclBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgICAgICBjeT1SKk1hdGguc2luKGNzKSt0aGlzLl9jZW50ZXJQb3NpdGlvbi55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWluU3AucG9zKGN4LGN5KTtcclxuICAgICAgICAgICAgTGF5YS5zdGFnZS5ldmVudChUb29sQ01ELlJPQ0tFUl9NT1ZFLGNzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBtc2c6IOaJi+aKrOi1tyzkuK3lv4PnmoTlnIbopoHlvLnlm57ljrtcclxuICAgICAqIEBwYXJhbSB7dHlwZX0gXHJcbiAgICAgKiBAcmV0dXJuOiBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfb25Ub3VjaFVwKGVudDpMYXlhLkV2ZW50KTp2b2lke1xyXG4gICAgICAgIC8v5Yik5pat5piv5ZCm5pyJ5oyJ5LiL5ZKM5b2T5YmN5oqs6LW355qE5piv5ZCm5Li65Y6f5p2l6YKj5Liq54K544CCXHJcbiAgICAgICAgaWYodGhpcy5fdG91Y2hJZCE9LTEgJiYgZW50LnRvdWNoSWQgPT0gdGhpcy5fdG91Y2hJZCl7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvdWNoSWQ9LTE7XHJcbiAgICAgICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfTU9WRSx0aGlzLHRoaXMuX29uVG91Y2hNb3ZlKVxyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50Lk1PVVNFX1VQLHRoaXMsdGhpcy5fb25Ub3VjaFVwKTtcclxuICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLl9taW5TcCx7XHJcbiAgICAgICAgICAgICAgICB4OnRoaXMuX2NlbnRlclBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgICAgICB5OnRoaXMuX2NlbnRlclBvc2l0aW9uLnksXHJcbiAgICAgICAgICAgIH0sMTAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEdhbWVVSSwgeyBVSU5hbWUgfSBmcm9tIFwiLi9HYW1lVUlcIjtcclxuaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4uL0dhbWVDb25maWdcIjtcclxuaW1wb3J0IEdhbWVEYXRhIGZyb20gXCIuL0dhbWVEYXRhXCI7XHJcbmltcG9ydCBUb29sVXRpbHMgZnJvbSBcIi4uL2NvbmZpZy9Ub29sVXRpbHNcIjtcclxuXHJcbi8qKlxyXG4gKiDom4fnsbtcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNuYWtlIGV4dGVuZHMgTGF5YS5TcHJpdGV7XHJcbiAgICBpZDpzdHJpbmc7XHJcbiAgICBBSTpib29sZWFuPWZhbHNlOyAvL+aYr+WQpuS4umFpO1xyXG5cclxuICAgIGJvZHlMaXN0OkFycmF5PExheWEuU3ByaXRlPj1bXTsvL+ibh+i6q+aVsOe7hFxyXG4gICAgc25ha2VFYXRCZWFuTnVtOm51bWJlcj0yMDsvL+ibh+i6q+mVv+W6plxyXG4gICAgb25lQm9keUJlYW5OdW06bnVtYmVyPTU7Ly/lkIPlh6DpopfosYblop7liqDkuIDoioLouqvkvZNcclxuICAgIHNuYWtlQ29sTnVtOm51bWJlcjsvL+ibh+minOiJsuOAguOAglxyXG5cclxuICAgIHNwZWVkT2JqPXtcInNsb3dcIjo0LFwiZmFzdFwiOjYsXCJyb3RhdGlvblwiOjB9Ly/om4fnp7vliqjpgJ/luqZcclxuICAgIHNwZWVkTm93OnN0cmluZz1cInNsb3dcIjtcclxuICAgIFxyXG4gICAga2lsbDpib29sZWFuPWZhbHNlOy8v5piv5ZCm5oyC5LqGXHJcbiAgICBJbnZpbmNpYmxlU2Vjb25kOmJvb2xlYW49dHJ1ZTsvL+aXoOaVjDPnp5JcclxuXHJcbiAgICBwYXRoTGlzdDpBcnJheTxPYmplY3Q+PVtdOy8v6JuH5aS056e75Yqo6L2o6L+55pWw57uE77yI5Lul5pyA5bCP5Y2V5L2NMeW7uueri+aVsOe7hO+8iSzpmJ/liJdcclxuICAgIG5hbWVUZXh0OkxheWEuVGV4dDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih4LHksaWQsY29sOm51bWJlcj1NYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqNCsxKSl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmlkPWlkO1xyXG4gICAgICAgIHRoaXMuc25ha2VDb2xOdW09Y29sO1xyXG4gICAgICAgIHRoaXMuek9yZGVyPTE7XHJcbiAgICAgICAgdGhpcy53aWR0aD00MDtcclxuICAgICAgICB0aGlzLmhlaWdodD00MDtcclxuICAgICAgICB0aGlzLnBpdm90KDIwLDIwKTtcclxuICAgICAgICB0aGlzLnBvcyh4LHkpO1xyXG5cclxuICAgICAgICB0aGlzLm5hbWVUZXh0PW5ldyBMYXlhLlRleHQoKTtcclxuICAgICAgICB0aGlzLm5hbWVUZXh0LnRleHQ9dGhpcy5pZDtcclxuICAgICAgICB0aGlzLm5hbWVUZXh0LnBvcygyMCwyMCk7XHJcbiAgICAgICAgdGhpcy5uYW1lVGV4dC5waXZvdCgyMCw0MCk7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLm5hbWVUZXh0KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDMwMDAsdGhpcyx0aGlzLl9jaGFuZ2VJbnZpbik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9jaGFuZ2VJbnZpbigpOnZvaWR7Ly/lj5bmtojml6DmlYznirbmgIFcclxuICAgICAgICB0aGlzLkludmluY2libGVTZWNvbmQ9ZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpbml0KCk6dm9pZHtcclxuICAgICAgICB0aGlzLmxvYWRJbWFnZShcImltYWdlcy9oZWFkXCIrdGhpcy5zbmFrZUNvbE51bStcIi5wbmdcIik7XHJcbiAgICAgICAgLy/liJ3lp4vljJbom4fouqtcclxuICAgICAgICBmb3IodmFyIGk9MDtpPE1hdGguZmxvb3IodGhpcy5zbmFrZUVhdEJlYW5OdW0vdGhpcy5vbmVCb2R5QmVhbk51bSk7aSsrKXtcclxuICAgICAgICAgICAgdGhpcy5fYWRkQm9keSh0aGlzLngsdGhpcy55KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOa3u+WKoOS4gOiKgui6q+S9k1xyXG4gICAgICogQHBhcmFtIHggXHJcbiAgICAgKiBAcGFyYW0geSBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfYWRkQm9keSh4LHkpOnZvaWR7XHJcbiAgICAgICAgdmFyIHNwPW5ldyBMYXlhLlNwcml0ZSgpO1xyXG4gICAgICAgICAgICBzcC5sb2FkSW1hZ2UoXCJpbWFnZXMvYm9keVwiK3RoaXMuc25ha2VDb2xOdW0rXCIucG5nXCIpO1xyXG4gICAgICAgICAgICBzcC5waXZvdCgyMCwyMCk7XHJcbiAgICAgICAgICAgIHNwLnBvcyh4LHkpO1xyXG4gICAgICAgIHRoaXMuYm9keUxpc3QudW5zaGlmdChzcCk7XHJcbiAgICAgICAgR2FtZVVJLmluc3RhbmNlLmdhbWVCb3guYWRkQ2hpbGQoc3ApO1xyXG4gICAgfVxyXG4gICAgLy/om4fouqvnp7vliqhcclxuICAgIHByaXZhdGUgX2JvZHlNb3ZlKCk6dm9pZHtcclxuICAgICAgICB2YXIgb2JqO1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5ib2R5TGlzdC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgb2JqPXRoaXMucGF0aExpc3RbMjAqaV1cclxuICAgICAgICAgICAgaWYob2JqKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9keUxpc3RbaV0ucG9zKG9iai54LG9iai55KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhdGhMaXN0LnNwbGljZSh0aGlzLmJvZHlMaXN0Lmxlbmd0aCoyMCk7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tTbmFrZUJvZHkoKTtcclxuICAgIH1cclxuICAgIC8v5qOA5p+l6JuH6LqrXHJcbiAgICBwcml2YXRlIF9jaGVja1NuYWtlQm9keSgpOnZvaWR7XHJcbiAgICAgICAgdmFyIGxlbj1NYXRoLmZsb29yKHRoaXMuc25ha2VFYXRCZWFuTnVtL3RoaXMub25lQm9keUJlYW5OdW0pLXRoaXMuYm9keUxpc3QubGVuZ3RoO1xyXG4gICAgICAgIGlmKGxlbil7XHJcbiAgICAgICAgICAgIHZhciBvYmo9dGhpcy5wYXRoTGlzdC5wb3AoKTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkQm9keShvYmpbXCJ4XCJdLG9ialtcInlcIl0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5Yik5pat5pyJ5peg5ZCD5Yiw5Lic6KW/44CC44CC44CCXHJcbiAgICBwcml2YXRlIF9jaGVja0VhdFByb3AoKTp2b2lke1xyXG4gICAgICAgIGZvcihsZXQgaT0wO2k8R2FtZURhdGEuYmVhbkxpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGlmKChUb29sVXRpbHMuZ2V0RGlzdGFuY2UodGhpcy54LHRoaXMueSxHYW1lRGF0YS5iZWFuTGlzdFtpXS54LEdhbWVEYXRhLmJlYW5MaXN0W2ldLnkpLUdhbWVEYXRhLmJlYW5MaXN0W2ldLndpZHRoLzIpPDMwKXtcclxuICAgICAgICAgICAgICAgIHZhciBiZWFuPUdhbWVEYXRhLmJlYW5MaXN0LnNwbGljZShpLDEpXHJcbiAgICAgICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKGJlYW5bMF0se1xyXG4gICAgICAgICAgICAgICAgICAgIHg6dGhpcy54LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6dGhpcy55XHJcbiAgICAgICAgICAgICAgICB9LDMwLG51bGwsTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLGZ1bmN0aW9uKG9iail7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgICAgIH0sYmVhbikpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLkFJKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWtlRWF0QmVhbk51bSsrO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgR2FtZVVJLmluc3RhbmNlLmFkZFNuYWtlRWF0QmVhbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/mlLnlj5jmlrnlkJFcclxuICAgIHVwTW92ZShhbmdsZSk6dm9pZHtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uPWFuZ2xlXHJcbiAgICAgICAgdGhpcy5zcGVlZE9ialtcInJvdGF0aW9uXCJdPUxheWEuVXRpbHMudG9SYWRpYW4oYW5nbGUpO1xyXG4gICAgICAgIHRoaXMubmFtZVRleHQucm90YXRpb249LWFuZ2xlO1xyXG4gICAgfVxyXG4gICAgLy/plIDmr4Hoh6rouqtcclxuICAgIGRlc3Ryb3koKTp2b2lke1xyXG4gICAgICAgIHRoaXMua2lsbD10cnVlO1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5ib2R5TGlzdC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgLy8gR2FtZVVJLmluc3RhbmNlLmdhbWVCb3gucmVtb3ZlQ2hpbGQodGhpcy5ib2R5TGlzdFtpXSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9keUxpc3RbaV0ucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMua2lsbClyZXR1cm47XHJcbiAgICAgICAgdmFyIHNwZWVkPXRoaXMuc3BlZWRPYmpbdGhpcy5zcGVlZE5vd10sXHJcbiAgICAgICAgICAgIG9sZD17eDp0aGlzLngseTp0aGlzLnl9O1xyXG5cclxuICAgICAgICB0aGlzLngrPXNwZWVkKk1hdGguY29zKHRoaXMuc3BlZWRPYmpbXCJyb3RhdGlvblwiXSk7XHJcbiAgICAgICAgdGhpcy55Kz1zcGVlZCpNYXRoLnNpbih0aGlzLnNwZWVkT2JqW1wicm90YXRpb25cIl0pO1xyXG4gICAgICAgIGlmKHRoaXMueDwyMCl0aGlzLng9MjA7XHJcbiAgICAgICAgaWYodGhpcy54PjI5ODApdGhpcy54PTI5ODA7XHJcbiAgICAgICAgaWYodGhpcy55PDIwKXRoaXMueT0yMDtcclxuICAgICAgICBpZih0aGlzLnk+MTQ4MCl0aGlzLnk9MTQ4MDtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTxzcGVlZDtpKyspey8v6K6w5b2V5q+P5qyh6LWw6L+H55qE5Z2Q5qCH44CC44CCMeS4uuWNleS9jVxyXG4gICAgICAgICAgICB2YXIgeD0odGhpcy54LW9sZC54KSppL3NwZWVkK29sZC54LFxyXG4gICAgICAgICAgICAgICAgeT0odGhpcy55LW9sZC55KSppL3NwZWVkK29sZC55O1xyXG4gICAgICAgICAgICB0aGlzLnBhdGhMaXN0LnVuc2hpZnQoe3g6eCx5Onl9KVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9ib2R5TW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX2NoZWNrRWF0UHJvcCgpO1xyXG4gICAgfVxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgVmlldz1MYXlhLlZpZXc7XHJcbmltcG9ydCBEaWFsb2c9TGF5YS5EaWFsb2c7XHJcbmltcG9ydCBTY2VuZT1MYXlhLlNjZW5lO1xuZXhwb3J0IG1vZHVsZSB1aSB7XHJcbiAgICBleHBvcnQgY2xhc3MgZ2FtZU1haW5VSSBleHRlbmRzIFNjZW5lIHtcclxuXHRcdHB1YmxpYyB3b3JsZE1hcDpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgZ2FtZUJveDpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgc2NvcmVUZXh0OmxheWEuZGlzcGxheS5UZXh0O1xuXHRcdHB1YmxpYyByb2NrZXJCb3g6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIHJvY2tlck1vdmU6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIHNwZWVkQnRuOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBVSTpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgZ2FtZU92ZXI6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIGFnYWluOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBiZWdpblVJOkxheWEuU3ByaXRlO1xuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiZ2FtZU1haW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHIiXX0=
